<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>National League Overview | Impresario Strategic</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.27.0/plotly.min.js"></script>
    <style>
        * { font-family: 'Montserrat', sans-serif; }
        body { margin: 0; padding: 20px; background-color: #f8f8f8; min-height: 100vh; box-sizing: border-box; }
        .container { max-width: 1300px; margin: 0 auto; }
        .chart-wrapper { background-color: #ffffff; border-radius: 8px; padding: 24px; position: relative; box-shadow: 0 2px 12px rgba(0,0,0,0.08); }
        .branding { position: absolute; bottom: 70px; right: 40px; display: flex; align-items: center; gap: 8px; opacity: 0.5; }
        .branding-text { color: #07385E; font-size: 10px; letter-spacing: 2px; text-transform: uppercase; }
        .branding-icon { width: 24px; height: 24px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="chart-wrapper">
            <div id="chart"></div>
            <div class="branding">
                <svg class="branding-icon" viewBox="0 0 25400 25400" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="#07385E" fill-rule="nonzero" d="M14589.56 9160.1c967.54,373.75 1796.66,1026.13 2388.22,1858.26 609.4,857.37 968.01,1904.97 968.01,3035.47 0,1130.38 -358.61,2178.21 -968.13,3035.57 -625.38,879.72 -1516.27,1558.47 -2555.39,1919.56l-330.52 114.87 0 -9611.37c-194.16,-59.39 -394.28,-106.77 -599.29,-141.23 -255.14,-42.92 -520.04,-65.37 -792.46,-65.37 -272.42,0 -537.32,22.45 -792.46,65.37 -205.01,34.46 -405.13,81.84 -599.29,141.23l0 9611.37 -330.5 -114.87c-1039.14,-361.09 -1930.01,-1039.84 -2555.41,-1919.56 -609.52,-857.36 -968.13,-1905.19 -968.13,-3035.57 0,-1130.5 358.61,-2178.1 968.01,-3035.47 591.69,-832.24 1420.7,-1484.49 2388.22,-1858.24l0 -2883.97 3779.12 0 0 248.91 0 2635.04zm-497.81 -164.17l0 -11.99 0 -2209.98 -2783.5 0 0 2209.98 0 11.99c169.66,-46.8 342.39,-85.13 517.69,-114.53 286.42,-48.19 578.82,-73.36 874.06,-73.36 295.24,0 587.64,25.17 874.06,73.36 175.32,29.4 348.03,67.73 517.69,114.53zm2481.58 2310.26c-499.13,-702.29 -1184.58,-1263.01 -1983.77,-1610.1l0 8715.46c799.07,-346.97 1484.52,-907.68 1983.64,-1609.97 550.73,-774.71 874.78,-1723.07 874.78,-2747.75 0,-1024.8 -324.05,-1973.05 -874.65,-2747.64zm-7746.53 5495.39c499.12,702.29 1184.59,1263 1983.64,1609.97l0 -8715.46c-799.17,347.09 -1484.64,907.81 -1983.75,1610.1 -550.62,774.59 -874.64,1722.84 -874.64,2747.64 0,1024.68 324.02,1973.04 874.75,2747.75z"/>
                </svg>
                <span class="branding-text">Impresario Strategic</span>
            </div>
        </div>
    </div>
    <script>
        const NAVY = '#07385E', GOLD = '#D5C393', WHITE = '#FFFFFF', NAVY_LIGHT = 'rgba(7, 56, 94, 0.08)', NAVY_MED = 'rgba(7, 56, 94, 0.25)';
        const clubs = [
            { name: "Southend United", capacity: 12392, sellThrough: 59.2 },
            { name: "Oldham Athletic", capacity: 13513, sellThrough: 44.9 },
            { name: "York City", capacity: 8005, sellThrough: 75.1, comparable: true },
            { name: "Hartlepool United", capacity: 7691, sellThrough: 48.9, comparable: true },
            { name: "Yeovil Town", capacity: 9527, sellThrough: 33.7, highlight: true },
            { name: "Sutton United", capacity: 5013, sellThrough: 52.5 },
            { name: "Rochdale AFC", capacity: 10249, sellThrough: 23.7 },
            { name: "Aldershot Town", capacity: 7100, sellThrough: 34.0 },
            { name: "Woking FC", capacity: 6064, sellThrough: 38.3 },
            { name: "Barnet FC", capacity: 5176, sellThrough: 44.7 },
            { name: "Eastleigh FC", capacity: 3000, sellThrough: 74.5 },
            { name: "Boston United", capacity: 6643, sellThrough: 32.1 },
            { name: "Altrincham FC", capacity: 6085, sellThrough: 34.3 },
            { name: "Forest Green Rovers", capacity: 5140, sellThrough: 35.7 },
            { name: "FC Halifax Town", capacity: 14061, sellThrough: 12.4 },
            { name: "Dagenham & Redbridge", capacity: 6000, sellThrough: 28.7 },
            { name: "Wealdstone FC", capacity: 4085, sellThrough: 39.1 },
            { name: "Ebbsfleet United", capacity: 5011, sellThrough: 29.0 },
            { name: "Solihull Moors", capacity: 5500, sellThrough: 25.8 },
            { name: "Gateshead FC", capacity: 11800, sellThrough: 12.0 },
            { name: "Maidenhead United", capacity: 4000, sellThrough: 34.7 },
            { name: "AFC Fylde", capacity: 6000, sellThrough: 21.9 },
            { name: "Tamworth FC", capacity: 4065, sellThrough: 32.1 },
            { name: "Braintree Town", capacity: 4222, sellThrough: 27.1 }
        ];
        const segments = [
            { name: 'The Pack', x: [4000, 7000, 7000, 4000, 4000], y: [20, 20, 55, 55, 20], labelX: 5500, labelY: 15 },
            { name: 'Yeovil Peers', x: [7000, 10500, 10500, 7000, 7000], y: [30, 30, 80, 80, 30], labelX: 8750, labelY: 83 },
            { name: 'Venue-Attendance<br>Mismatch', x: [10000, 14500, 14500, 10000, 10000], y: [8, 8, 48, 48, 8], labelX: 12250, labelY: 51 }
        ];
        const mainTrace = {
            x: clubs.map(c => c.capacity), y: clubs.map(c => c.sellThrough), text: clubs.map(c => c.name),
            mode: 'markers+text', type: 'scatter', showlegend: false,
            marker: { size: clubs.map(c => c.highlight ? 20 : (c.comparable ? 17 : 12)), color: clubs.map(c => c.highlight ? GOLD : (c.comparable ? WHITE : NAVY)), line: { color: clubs.map(c => c.highlight ? NAVY : (c.comparable ? NAVY : WHITE)), width: clubs.map(c => c.highlight ? 2.5 : (c.comparable ? 2.5 : 1.5)) } },
            textposition: 'top right', textfont: { family: 'Montserrat', size: 11, color: 'rgba(26, 26, 26, 0.7)' },
            hovertemplate: '<b>%{text}</b><br>Capacity: %{x:,}<br>Sell-Through: %{y:.1f}%<extra></extra>'
        };
        const capacityLine = { x: [0, 16000], y: [100, 100], mode: 'lines', type: 'scatter', showlegend: false, line: { color: GOLD, width: 1.5, dash: 'dot' }, hoverinfo: 'skip' };
        const segmentTraces = [];
        segments.forEach(seg => {
            segmentTraces.push({ x: seg.x, y: seg.y, mode: 'lines', type: 'scatter', showlegend: false, visible: true, line: { color: NAVY_MED, width: 1.5, dash: 'dash' }, fill: 'toself', fillcolor: NAVY_LIGHT, hoverinfo: 'skip' });
            segmentTraces.push({ x: [seg.labelX], y: [seg.labelY], mode: 'text', type: 'scatter', showlegend: false, visible: true, text: [seg.name], textfont: { family: 'Montserrat', size: 12, color: NAVY }, hoverinfo: 'skip' });
        });
        const data = [mainTrace, capacityLine, ...segmentTraces];
        const layout = {
            title: { text: 'National League: Stadium Capacity vs. Sell-Through (2024-25)', font: { family: 'Montserrat', size: 22, color: NAVY }, x: 0.5, xanchor: 'center', y: 0.95 },
            xaxis: { title: { text: 'Stadium Capacity', font: { family: 'Montserrat', size: 14, color: NAVY }, standoff: 15 }, range: [0, 16000], showgrid: true, gridcolor: 'rgba(7, 56, 94, 0.08)', zeroline: false, tickfont: { family: 'Montserrat', size: 12, color: 'rgba(26, 26, 26, 0.6)' }, tickformat: ',d', linecolor: 'rgba(7, 56, 94, 0.2)' },
            yaxis: { title: { text: 'Sell-Through (%)', font: { family: 'Montserrat', size: 14, color: NAVY }, standoff: 10 }, range: [0, 105], showgrid: true, gridcolor: 'rgba(7, 56, 94, 0.08)', zeroline: false, tickfont: { family: 'Montserrat', size: 12, color: 'rgba(26, 26, 26, 0.6)' }, ticksuffix: '%', linecolor: 'rgba(7, 56, 94, 0.2)' },
            plot_bgcolor: WHITE, paper_bgcolor: WHITE, width: 1200, height: 750, margin: { l: 70, r: 40, t: 60, b: 80 }, hovermode: 'closest', showlegend: false,
            updatemenus: [{ type: 'buttons', direction: 'right', x: 0.5, xanchor: 'center', y: -0.12, yanchor: 'top', pad: { r: 10, t: 10 }, showactive: true, bgcolor: WHITE, bordercolor: NAVY, borderwidth: 1, font: { family: 'Montserrat', size: 12, color: NAVY },
                buttons: [
                    { label: '  Show Segments  ', method: 'update', args: [{ visible: [true, true, true, true, true, true, true, true] }] },
                    { label: '  Hide Segments  ', method: 'update', args: [{ visible: [true, true, false, false, false, false, false, false] }] }
                ]
            }]
        };
        Plotly.newPlot('chart', data, layout, { responsive: true, displayModeBar: true, modeBarButtonsToRemove: ['pan2d', 'select2d', 'lasso2d', 'autoScale2d'], displaylogo: false });
    </script>
</body>
</html>
